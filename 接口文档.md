# 接口文档

### 1、User会员

##### 1.1 **获取用户列表**

```
请求类型: GET
请求地址: /api/user/list
请求参数: 无
返回参数: Result(data为user对象)
	{
    "code": 1,
    "data": [
        {
            "id": 1,
            "name": "张三",
            "username": "zhangsa",
            "age": 16,
            "sex": "男",
            "phone": "13543999546",
            "address": "北京市"
        },
        …………
    ],
    "msg": "success"
}
```



##### 1.2**获取分页用户列表**：

```
请求类型: GET
请求地址: /api/user/page
请求参数: json格式的 userPageRequest对象
		{
			"pageNum":1,
			"pageSize":10,
			"name":" ",
			"phone":" "
		}
返回参数: Result(data为user对象)
	{
    "code": 1,
    "data": [
        {
            "id": 11,
            "name": "Jack",
            "username": "jack707",
            "age": 31,
            "sex": "男",
            "phone": "13000130000",
            "address": "长沙市岳麓区"
        },
       …………
       …………
    ],
    "msg": "success"
}
```



##### 1.3 根据id获取user信息

```
请求类型: GET
请求地址: /api/user/{id}
请求参数: Integer id
返回参数: Result(data为user对象)
	{
    "code": 1,
    "data": [
        {
            "id": 11,
            "name": "Jack",
            "username": "jack707",
            "age": 31,
            "sex": "男",
            "phone": "13000130000",
            "address": "长沙市岳麓区"
        }
    	],
    "msg": "success"
	}
```



##### 1.4 新增用户：

```
请求类型: POST
请求地址: /api/user/add
请求参数: user对象
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}
```



##### 1.5 修改用户（注意username即卡号不可修改）

```
请求类型: PUT
请求地址: /api/user/update
请求参数: user对象(id属性必须传递，根据id进行修改)
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}	
```



##### 1.6 删除用户

```
请求类型: DELETE
请求地址: /api/user/delete/{id}
请求参数: Integer id
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}	
```



##### 1.7  （这里可以加一个user前台登录之后修改密码的功能）

<img src="C:\Users\白桃\AppData\Roaming\Typora\typora-user-images\image-20240702222147968.png" alt="image-20240702222147968" style="zoom:67%;" /> （类似这样，功能还没写）



### 2、Admin管理者

##### 2.1 **获取管理者列表**

```
请求类型: GET
请求地址: /api/admin/list
请求参数: 无
返回参数: Result(data为admin对象)
{
    "code": "1",
    "data": [
        {
            "id": 2,
            "username": "玛雅",
            "phone": "15678999523",
            "email": "admin@123.com",
            "password": "123456",
            "createtime": null,
            "updatetime": null
        }
    ],
    "msg": "success"
}
```



##### 2.2**获取分页admin列表**：

```
请求类型: GET
请求地址: /api/admin/page
请求参数: json格式的 adminPageRequest对象
		{
			"pageNum":1,
			"pageSize":10,
			"name":" ",
			"phone":" ",
			"email":" "
		}
返回参数: Result(data为admin对象)
{
    "code": "1",
    "data": [
        {
            "id": 2,
            "username": "玛雅",
            "phone": "15678999523",
            "email": "admin@123.com",
            "password": "123456",
            "createtime": null,
            "updatetime": null
        },
        ……
    ],
    "msg": "success"
}
```



##### 2.3 根据id获取admin信息

```
请求类型: GET
请求地址: /api/admin/{id}
请求参数: Integer id
返回参数: Result(data为admin对象)
	{
    "code": 1,
    "data": [
         {
            "id": 2,
            "username": "玛雅",
            "phone": "15678999523",
            "email": "admin@123.com",
            "password": "123456",
            "createtime": null,
            "updatetime": null
        }
    	],
    "msg": "success"
	}
```



##### 2.4 新增admin：

```
请求类型: POST
请求地址: /api/admin/add
请求参数: admin对象
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}
```



##### 2.5 修改admin（除password之外的修改）

```
请求类型: PUT
请求地址: /api/admin/update
请求参数: admin对象(id属性必须传递，根据id进行修改)
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}	
```



##### 2.6 删除用户

```
请求类型: DELETE
请求地址: /api/admin/delete/{id}
请求参数: Integer id
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}	
```



##### 2.7 登录管理者

```
请求类型: POST
请求地址: /api/admin/login
请求参数: loginRequest对象
		{
			"username":
			"password":
		}
返回参数: Result(data为adminDTO对象，隐藏掉password)
    {
        "code": "1",
        "data": {
            "id": 2,
            "username": "玛雅",
            "phone": "15678999523",
            "email": "admin@123.com"
        },
        "msg": "success"
    }
```





### 3、分类Category

##### 3.1 **获取分类列表**

```
请求类型: GET
请求地址: /api/category/list
请求参数: 无
返回参数: Result(data为category对象)
{
    "code": "1",
    "data": [
        {
            "id": 1,
            "name": "文学",
            "remark": "包含各种文学作品",
            "pid": null,
            "createtime": "2024-07-03",
            "updatetime": null
        }
        ……
    ],
    "msg": "success"
}
```



##### 3.2获取分类分页列表：

```
请求类型: GET
请求地址: /api/category/page
请求参数: json格式的 userPageRequest对象
		{
			"pageNum":1,
			"pageSize":10,
			"name":" "
		}
返回参数: Result(data为CategoryPageDTO对象，带有二级分类children属性)
{
    "code": "1",
    "data": [
        {
            "id": 1,
            "name": "文学",
            "remark": "包含各种文学作品",
            "pid": null,
            "createtime": "2024-07-03",
            "updatetime": null,
            "children": [
                {
                    "id": 6,
                    "name": "小说",
                    "remark": "虚构故事的书籍",
                    "pid": 1,
                    "createtime": "2024-07-03",
                    "updatetime": null
                },
                {
                    "id": 16,
                    "name": "散文",
                    "remark": "散文书籍",
                    "pid": 1,
                    "createtime": "2024-07-03",
                    "updatetime": null
                }
            ]
        }
    ],
    "msg": "success"
}
```



##### 3.3 根据id获取分类信息

```
请求类型: GET
请求地址: /api/category/{id}
请求参数: Integer id
返回参数: Result(data为category对象)
{
    "code": "1",
    "data": {
        "id": 6,
        "name": "小说",
        "remark": "虚构故事的书籍",
        "pid": 1,
        "createtime": "2024-07-03",
        "updatetime": null
    },
    "msg": "success"
}
```



##### 3.4 新增分类：

```
请求类型: POST
请求地址: /api/category/add
请求参数: categor对象
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}
```



##### 3.5 修改分类

```
请求类型: PUT
请求地址: /api/category/update
请求参数: category对象
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}	
```



##### 3.6 删除分类

```
请求类型: DELETE
请求地址: /api/category/delete/{id}
请求参数: Integer id
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}	
```





### 4、图书book

##### 4.1 **获取图书列表**

```
请求类型: GET
请求地址: /api/book/list
请求参数: 无
返回参数: Result(data为book对象)
{
    "code": "1",
    "data": [
       {
       	……
       }
    ],
    "msg": "success"
}
```



##### 4.2获取图书分页列表：

```
请求类型: GET
请求地址: /api/book/page
请求参数: json格式的 bookPageRequest对象
		{
			"pageNum":1,
			"pageSize":10,
			"name":" ",
			"bookNo":" "
		}
返回参数: Result(data为book对象)
{
    "code": "1",
    "data": [
        {
            ……
        }
    ],
    "msg": "success"
}
```



##### 4.3 根据id获取图书信息

```
请求类型: GET
请求地址: /api/book/{id}
请求参数: Integer id
返回参数: Result(data为book对象)
{
    "code": "1",
    "data": {
        ……
    },
    "msg": "success"
}
```



##### 4.4 新增图书：

```
请求类型: POST
请求地址: /api/book/add
请求参数: book对象
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}
```



##### 4.5 修改图书

```
请求类型: PUT
请求地址: /api/book/update
请求参数: book对象
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}	
```



##### 4.6 删除用户

```
请求类型: DELETE
请求地址: /api/book/delete/{id}
请求参数: Integer id
返回参数: Result
	{
        "code": "1",
        "data": null,
        "msg": "success"
	}	
```

